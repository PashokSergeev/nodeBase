<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Турнир по настольному теннису</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&amp;display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style/style.css">
</head>
<body>
<!-- Background elements -->
<div class="racket-bg"></div>

<!-- Main Content -->
<div id="main-content" class="container mx-auto px-2 py-3 max-w-4xl relative">
    <!-- Tournament Header -->
    <div class="glossy-card p-6 mb-6 animate-fadeIn relative">
        <div class="flex items-center justify-between">
            <div class="w-1/6">
                <img src="/images/ttfr_logo_new_03.png" alt="Логотип турнира" class="w-full h-auto">
            </div>
            <div class="text-center w-2/3">
                <h1 id="tournament-name" class="tournament-title text-2xl md:text-3xl gradient-text px-2"></h1>
                <h2 id="tournament-subtitle" class="tournament-subtitle text-xl md:text-2xl mt-2 gradient-score"></h2>
            </div>
            <div class="w-1/6">
                <img src="/images/slntr.png" alt="Логотип федерации" class="w-full h-auto">
            </div>
        </div>
    </div>

    <!-- Match Content -->
    <div class="glossy-card p-3 mb-3 animate-glow relative">
        <div class="flex flex-col md:flex-row justify-between mb-2">
            <!-- Team 1 Header -->
            <div class="w-full md:w-5/12 mb-2 md:mb-0">
                <div class="flex items-center">
                    <div class="flag-container mr-2">
                        <div id="team1-flag" class="flag-img">

                        </div>
                    </div>
                    <h3 id="team1-name" class="text-base md:text-lg font-bold vibrant-blue"></h3>
                </div>
            </div>

            <!-- Score -->
            <div class="w-full md:w-2/12 text-center mb-2 md:mb-0">
                <div class="gradient-score" id="match-score"></div>
            </div>

            <!-- Team 2 Header -->
            <div class="w-full md:w-5/12">
                <div class="flex items-center justify-end">
                    <h3 id="team2-name" class="text-base md:text-lg font-bold vibrant-pink"></h3>
                    <div class="flag-container ml-2">
                        <div id="team2-flag" class="flag-img">

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Match Results -->
        <div class="border-t border-b border-blue-400/30 py-2 mb-2">
            <div id="match-rows">


            </div>
        </div>

        <!-- Reserve Players -->
        <div class="flex flex-col md:flex-row justify-between">
            <div class="w-full md:w-5/12 mb-1 md:mb-0">
                <h4 class="font-semibold vibrant-blue mb-1 text-sm">Запасные игроки:</h4>
                <ul id="team1-reserves" class="pl-2">

                </ul>
            </div>
            <div class="w-full md:w-5/12 md:text-right">
                <h4 class="font-semibold vibrant-pink mb-1 text-sm">Запасные игроки:</h4>
                <ul id="team2-reserves" class="md:pl-0 pl-2">

                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="glossy-card p-6 mb-6 relative">
        <div class="text-center mb-4">
            <p id="tournament-location" class="vibrant-purple font-medium"></p>
        </div>
        <div class="flex justify-center space-x-8">
            <div class="w-25 h-20">
                <img src="/images/ffy.png" alt="Спонсор 1" class="w-full h-full object-contain">
            </div>
            <div class="w-25 h-20">
                <img src="/images/ttfr_logo_new_05.png" alt="Спонсор 2" class="w-full h-full object-contain">
            </div>
            <div class="w-25 h-20">
                <img src="/images/slntr.png" alt="Спонсор 3" class="w-full h-full object-contain">
            </div>
        </div>
    </div>

    <div class="text-center" style="margin-top: 300px">
        <button id="admin-toggle" class="pro-button text-sm ">
            Панель администратора
        </button>
    </div>
</div>

<!-- Admin Panel -->
<div id="admin-panel" class="admin-panel container mx-auto px-2 py-3 max-w-4xl">
    <div class="glossy-card p-3 mb-3 relative">
        <h2 class="text-lg md:text-xl font-bold mb-3 text-center gradient-text">Панель администратора</h2>

        <div class="mb-4">
            <h3 class="section-header text-base">Информация о турнире</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                <div>
                    <label class="block vibrant-text mb-1 font-medium text-sm">Название турнира</label>
                    <input type="text" id="admin-tournament-name" class="w-full dark-input rounded p-1 text-sm"
                           value="Чемпионат России по настольному теннису">
                </div>
                <div>
                    <label class="block vibrant-text mb-1 font-medium text-sm">Подзаголовок</label>
                    <input type="text" id="admin-tournament-subtitle" class="w-full dark-input rounded p-1 text-sm"
                           value="Финальный этап 2023">
                </div>
                <div class="md:col-span-2">
                    <label class="block vibrant-text mb-1 font-medium text-sm">Место проведения</label>
                    <input type="text" id="admin-tournament-location" class="w-full dark-input rounded p-1 text-sm"
                           value="г. Москва, СК &quot;Олимпийский&quot;, 10-15 июня 2023 г.">
                </div>
            </div>
        </div>

        <div class="mb-4">
            <h3 class="section-header text-base">Команда 1</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-2">
                <div>
                    <label class="block vibrant-blue mb-1 font-medium text-sm">Название команды</label>
                    <input type="text" id="admin-team1-name" class="w-full dark-input rounded p-1 text-sm"
                           value="Команда &quot;Динамо&quot;">
                </div>
                <div>
                    <label class="block vibrant-blue mb-1 font-medium text-sm">Флаг региона</label>
                    <select id="admin-team1-flag" class="w-full dark-select rounded p-1 text-sm">
                        <option value="ady">Адыгея</option>
                        <option value="alt">Алтай</option>
                        <option value="bash">Башкортостан</option>
                        <option value="bury">Бурятия</option>
                        <option value="dnr">Донецкая народная республика ДНР</option>
                        <option value="dag">Дагестан</option>
                        <option value="ing">Ингушетия</option>
                        <option value="kb">Кабардино-Балкария</option>
                        <option value="klm">Калмыкия</option>
                        <option value="kar">Карачаево-Черкесия</option>
                        <option value="krl">Карелия</option>
                        <option value="kom">Коми</option>
                        <option value="cr">Крым</option>
                        <option value="lnr">Луганская народная республика</option>
                        <option value="mr">Марий Эл</option>
                        <option value="mrd">Мордовия</option>
                        <option value="sak">Саха (Якутия)</option>
                        <option value="alv">Северная Осетия — Алания</option>
                        <option value="tat">Татарстан</option>
                        <option value="tuv">Тыва</option>
                        <option value="udm">Удмуртия</option>
                        <option value="khk">Хакасия</option>
                        <option value="che">Чечня</option>
                        <option value="chv">Чувашия</option>

                        <option value="altk">Алтайский край</option>
                        <option value="zbk">Забайкальский край</option>
                        <option value="kam">Камчатский край</option>
                        <option value="kras">Краснодарский край</option>
                        <option value="krd">Красноярский край</option>
                        <option value="per">Пермский край</option>
                        <option value="pri">Приморский край</option>
                        <option value="sta">Ставропольский край</option>
                        <option value="hab">Хабаровский край</option>

                        <option value="amur">Амурская область</option>
                        <option value="arh">Архангельская область</option>
                        <option value="ast">Астраханская область</option>
                        <option value="bel">Белгородская область</option>
                        <option value="bry">Брянская область</option>
                        <option value="vla">Владимирская область</option>
                        <option value="vlg">Волгоградская область</option>
                        <option value="vls">Вологодская область</option>
                        <option value="vrn">Воронежская область</option>
                        <option value="zpo">Запорожская область</option>
                        <option value="iva">Ивановская область</option>
                        <option value="irk">Иркутская область</option>
                        <option value="klg">Калининградская область</option>
                        <option value="klz">Калужская область</option>
                        <option value="kem">Кемеровская область</option>
                        <option value="kir">Кировская область</option>
                        <option value="kos">Костромская область</option>
                        <option value="kur">Курганская область</option>
                        <option value="kurs">Курская область</option>
                        <option value="len">Ленинградская область</option>
                        <option value="lip">Липецкая область</option>
                        <option value="mag">Магаданская область</option>
                        <option value="mos">Московская область</option>
                        <option value="mur">Мурманская область</option>
                        <option value="nin">Нижегородская область</option>
                        <option value="nov">Новгородская область</option>
                        <option value="nvs">Новосибирская область</option>
                        <option value="oms">Омская область</option>
                        <option value="oren">Оренбургская область</option>
                        <option value="orl">Орловская область</option>
                        <option value="pnz">Пензенская область</option>
                        <option value="psk">Псковская область</option>
                        <option value="ros">Ростовская область</option>
                        <option value="rya">Рязанская область</option>
                        <option value="sam">Самарская область</option>
                        <option value="sar">Саратовская область</option>
                        <option value="sah">Сахалинская область</option>
                        <option value="sve">Свердловская область</option>
                        <option value="smo">Смоленская область</option>
                        <option value="tam">Тамбовская область</option>
                        <option value="tom">Томская область</option>
                        <option value="tul">Тульская область</option>
                        <option value="tyu">Тюменская область</option>
                        <option value="uly">Ульяновская область</option>
                        <option value="xobl">Херсонская область</option>
                        <option value="cheb">Челябинская область</option>
                        <option value="yar">Ярославская область</option>

                        <option value="msk">Москва</option>
                        <option value="spb">Санкт-Петербург</option>
                        <option value="sev">Севастополь</option>

                        <option value="evao">Еврейская АО</option>
                        <option value="nao">Ненецкий АО</option>
                        <option value="hmao">Ханты-Мансийский АО</option>
                        <option value="chao">Чукотский АО</option>
                        <option value="yamalo">Ямало-Ненецкий АО</option>
                    </select>
                </div>
            </div>
            <div class="mb-2">
                <label class="block vibrant-blue mb-1 font-medium text-sm">Основные игроки (по одному в строке)</label>
                <textarea id="admin-team1-players" class="w-full dark-textarea rounded p-1 h-32 text-sm"></textarea>
            </div>
            <div>
                <label class="block vibrant-blue mb-1 font-medium text-sm">Запасные игроки (по одному в строке)</label>
                <textarea id="admin-team1-reserves" class="w-full dark-textarea rounded p-1 h-16 text-sm"></textarea>
            </div>
        </div>

        <div class="mb-4">
            <h3 class="section-header text-base">Команда 2</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-2">
                <div>
                    <label class="block vibrant-pink mb-1 font-medium text-sm">Название команды</label>
                    <input type="text" id="admin-team2-name" class="w-full dark-input rounded p-1 text-sm"
                           value="Команда &quot;Спартак&quot;">
                </div>
                <div>
                    <label class="block vibrant-pink mb-1 font-medium text-sm">Флаг региона</label>
                    <select id="admin-team2-flag" class="w-full dark-select rounded p-1 text-sm">
                        <option value="ady">Адыгея</option>
                        <option value="alt">Алтай</option>
                        <option value="bash">Башкортостан</option>
                        <option value="bury">Бурятия</option>
                        <option value="dnr">Донецкая народная республика ДНР</option>
                        <option value="dag">Дагестан</option>
                        <option value="ing">Ингушетия</option>
                        <option value="kb">Кабардино-Балкария</option>
                        <option value="klm">Калмыкия</option>
                        <option value="kar">Карачаево-Черкесия</option>
                        <option value="krl">Карелия</option>
                        <option value="kom">Коми</option>
                        <option value="cr">Крым</option>
                        <option value="lnr">Луганская народная республика</option>
                        <option value="mr">Марий Эл</option>
                        <option value="mrd">Мордовия</option>
                        <option value="sak">Саха (Якутия)</option>
                        <option value="alv">Северная Осетия — Алания</option>
                        <option value="tat">Татарстан</option>
                        <option value="tuv">Тыва</option>
                        <option value="udm">Удмуртия</option>
                        <option value="khk">Хакасия</option>
                        <option value="che">Чечня</option>
                        <option value="chv">Чувашия</option>

                        <option value="altk">Алтайский край</option>
                        <option value="zbk">Забайкальский край</option>
                        <option value="kam">Камчатский край</option>
                        <option value="kras">Краснодарский край</option>
                        <option value="krd">Красноярский край</option>
                        <option value="per">Пермский край</option>
                        <option value="pri">Приморский край</option>
                        <option value="sta">Ставропольский край</option>
                        <option value="hab">Хабаровский край</option>

                        <option value="amur">Амурская область</option>
                        <option value="arh">Архангельская область</option>
                        <option value="ast">Астраханская область</option>
                        <option value="bel">Белгородская область</option>
                        <option value="bry">Брянская область</option>
                        <option value="vla">Владимирская область</option>
                        <option value="vlg">Волгоградская область</option>
                        <option value="vls">Вологодская область</option>
                        <option value="vrn">Воронежская область</option>
                        <option value="zpo">Запорожская область</option>
                        <option value="iva">Ивановская область</option>
                        <option value="irk">Иркутская область</option>
                        <option value="klg">Калининградская область</option>
                        <option value="klz">Калужская область</option>
                        <option value="kem">Кемеровская область</option>
                        <option value="kir">Кировская область</option>
                        <option value="kos">Костромская область</option>
                        <option value="kur">Курганская область</option>
                        <option value="kurs">Курская область</option>
                        <option value="len">Ленинградская область</option>
                        <option value="lip">Липецкая область</option>
                        <option value="mag">Магаданская область</option>
                        <option value="mos">Московская область</option>
                        <option value="mur">Мурманская область</option>
                        <option value="nin">Нижегородская область</option>
                        <option value="nov">Новгородская область</option>
                        <option value="nvs">Новосибирская область</option>
                        <option value="oms">Омская область</option>
                        <option value="oren">Оренбургская область</option>
                        <option value="orl">Орловская область</option>
                        <option value="pnz">Пензенская область</option>
                        <option value="psk">Псковская область</option>
                        <option value="ros">Ростовская область</option>
                        <option value="rya">Рязанская область</option>
                        <option value="sam">Самарская область</option>
                        <option value="sar">Саратовская область</option>
                        <option value="sah">Сахалинская область</option>
                        <option value="sve">Свердловская область</option>
                        <option value="smo">Смоленская область</option>
                        <option value="tam">Тамбовская область</option>
                        <option value="tom">Томская область</option>
                        <option value="tul">Тульская область</option>
                        <option value="tyu">Тюменская область</option>
                        <option value="uly">Ульяновская область</option>
                        <option value="xobl">Херсонская область</option>
                        <option value="cheb">Челябинская область</option>
                        <option value="yar">Ярославская область</option>

                        <option value="msk">Москва</option>
                        <option value="spb">Санкт-Петербург</option>
                        <option value="sev">Севастополь</option>

                        <option value="evao">Еврейская АО</option>
                        <option value="nao">Ненецкий АО</option>
                        <option value="hmao">Ханты-Мансийский АО</option>
                        <option value="chao">Чукотский АО</option>
                        <option value="yamalo">Ямало-Ненецкий АО</option>
                    </select>
                </div>
            </div>
            <div class="mb-2">
                <label class="block vibrant-pink mb-1 font-medium text-sm">Основные игроки (по одному в строке)</label>
                <textarea id="admin-team2-players" class="w-full dark-textarea rounded p-1 h-32 text-sm">
</textarea>
            </div>
            <div>
                <label class="block vibrant-pink mb-1 font-medium text-sm">Запасные игроки (по одному в строке)</label>
                <textarea id="admin-team2-reserves" class="w-full dark-textarea rounded p-1 h-16 text-sm"></textarea>
            </div>
        </div>

        <div class="mb-4">
            <h3 class="section-header text-base">Результаты матчей</h3>
            <p class="vibrant-text mb-2 text-sm">Введите результаты для каждой пары игроков:</p>

            <div id="admin-match-pairs" class="space-y-2">
                <div class="dark-match-pair rounded-lg p-2 text-sm">
                    <div class="flex items-center justify-between mb-1">
                        <div class="vibrant-blue font-semibold player1-name text-xs"></div>
                        <div class="vibrant-text font-medium text-xs">vs</div>
                        <div class="vibrant-pink font-semibold player2-name text-xs"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Счет</label>
                            <input type="text"
                                   class="admin-match-score admin-match-score1 w-full dark-input rounded p-1 text-xs"
                                   value="3:0">
                        </div>
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Очки</label>
                            <input type="text"
                                   class="admin-match-points admin-match-point1 w-full dark-input rounded p-1 text-xs"
                                   value="(5,6,7)">
                        </div>
                    </div>
                </div>
                <div class="dark-match-pair rounded-lg p-2 text-sm">
                    <div class="flex items-center justify-between mb-1">
                        <div class="vibrant-blue font-semibold player1-name text-xs"></div>
                        <div class="vibrant-text font-medium text-xs">vs</div>
                        <div class="vibrant-pink font-semibold player2-name text-xs"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Счет</label>
                            <input type="text"
                                   class="admin-match-score admin-match-score2 w-full dark-input rounded p-1 text-xs"
                                   value="3:1">
                        </div>
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Очки</label>
                            <input type="text"
                                   class="admin-match-points admin-match-point2 w-full dark-input rounded p-1 text-xs"
                                   value="(8,5,-7,9)">
                        </div>
                    </div>
                </div>
                <div class="dark-match-pair rounded-lg p-2 text-sm">
                    <div class="flex items-center justify-between mb-1">
                        <div class="vibrant-blue font-semibold player1-name text-xs"></div>
                        <div class="vibrant-text font-medium text-xs">vs</div>
                        <div class="vibrant-pink font-semibold player2-name text-xs"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Счет</label>
                            <input type="text"
                                   class="admin-match-score admin-match-score3 w-full dark-input rounded p-1 text-xs"
                                   value="2:3">
                        </div>
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Очки</label>
                            <input type="text"
                                   class="admin-match-points admin-match-point3 w-full dark-input rounded p-1 text-xs"
                                   value="(7,9,-8,-6,8)">
                        </div>
                    </div>
                </div>
                <div class="dark-match-pair rounded-lg p-2 text-sm">
                    <div class="flex items-center justify-between mb-1">
                        <div class="vibrant-blue font-semibold player1-name text-xs"></div>
                        <div class="vibrant-text font-medium text-xs">vs</div>
                        <div class="vibrant-pink font-semibold player2-name text-xs"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Счет</label>
                            <input type="text"
                                   class="admin-match-score admin-match-score4 w-full dark-input rounded p-1 text-xs"
                                   value="3:0">
                        </div>
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Очки</label>
                            <input type="text"
                                   class="admin-match-points admin-match-point4 w-full dark-input rounded p-1 text-xs"
                                   value="(6,7,9)">
                        </div>
                    </div>
                </div>
                <div class="dark-match-pair rounded-lg p-2 text-sm">
                    <div class="flex items-center justify-between mb-1">
                        <div class="vibrant-blue font-semibold player1-name text-xs"></div>
                        <div class="vibrant-text font-medium text-xs">vs</div>
                        <div class="vibrant-pink font-semibold player2-name text-xs"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Счет</label>
                            <input type="text"
                                   class="admin-match-score admin-match-score5 w-full dark-input rounded p-1 text-xs"
                                   value="3:2">
                        </div>
                        <div>
                            <label class="block vibrant-text text-xs mb-1 font-medium">Очки</label>
                            <input type="text"
                                   class="admin-match-points admin-match-point5 w-full dark-input rounded p-1 text-xs"
                                   value="(8,-7,9,-6,5)">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex justify-between">
            <button id="admin-cancel" class="pro-button-secondary text-sm">
                Отмена
            </button>
            <button id="admin-save" class="pro-button text-sm">
                Сохранить изменения
            </button>
        </div>
    </div>
</div>

<script>
    let currentData = null;

    async function loadData() {
        const res = await fetch('/api/data');
        currentData = await res.json();
        updateDOM();

        const toggleAdminBtn = document.querySelector('#admin-toggle')
        // Add keyboard shortcut for admin mode (Shift+Ctrl+F)
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'F') {
                toggleAdminBtn.click();
            }
        });
    }

    function updateDOM() {
        // Update tournament info
        document.getElementById('tournament-name').textContent = currentData.tournament.name;
        document.getElementById('tournament-subtitle').textContent = currentData.tournament.subtitle;
        document.getElementById('tournament-location').textContent = currentData.tournament.location;

        document.getElementById('admin-tournament-name').value = currentData.tournament.name;
        document.getElementById('admin-tournament-subtitle').value = currentData.tournament.subtitle;
        document.getElementById('admin-tournament-location').value = currentData.tournament.location;

        // Update team names
        document.getElementById('team1-name').textContent = currentData.team1.name
        document.getElementById('team2-name').textContent = currentData.team2.name

        document.getElementById('admin-team1-name').textContent = currentData.team1.name
        document.getElementById('admin-team2-name').textContent = currentData.team2.name

        // Update flags
        document.getElementById('admin-team1-flag').value = currentData.team1.flag
        updateFlag('team1-flag', currentData.team1.flag);
        document.getElementById('admin-team2-flag').value = currentData.team2.flag
        updateFlag('team2-flag', currentData.team2.flag);

        // Update matches score
        document.querySelector('.admin-match-score1').value = currentData.matche1.score;
        document.querySelector('.admin-match-score2').value = currentData.matche2.score;
        document.querySelector('.admin-match-score3').value = currentData.matche3.score;
        document.querySelector('.admin-match-score4').value = currentData.matche4.score;
        document.querySelector('.admin-match-score5').value = currentData.matche5.score;

        // Update matches point
        document.querySelector('.admin-match-point1').value = currentData.matche1.point;
        document.querySelector('.admin-match-point2').value = currentData.matche2.point;
        document.querySelector('.admin-match-point3').value = currentData.matche3.point;
        document.querySelector('.admin-match-point4').value = currentData.matche4.point;
        document.querySelector('.admin-match-point5').value = currentData.matche5.point;

        // Update match rows
        updateMatchRows(currentData.team1.players, currentData.team2.players);
        document.getElementById('admin-team1-players').textContent = currentData.team1.playersvalue
        document.getElementById('admin-team2-players').textContent = currentData.team2.playersvalue

        // Update reserve players
        updateReservePlayers('team1-reserves', currentData.team1.reserves);
        document.getElementById('admin-team1-reserves').textContent = currentData.team1.reserves;
        updateReservePlayers('team2-reserves', currentData.team2.reserves);
        document.getElementById('admin-team2-reserves').textContent = currentData.team2.reserves;

        match_result();



    }

    // Toggle admin panel
    document.getElementById('admin-toggle').addEventListener('click', function () {
        const mainContent = document.getElementById('main-content');
        const adminPanel = document.getElementById('admin-panel');

        if (adminPanel.style.display === 'block') {
            adminPanel.style.display = 'none';
            mainContent.style.display = 'block';
        } else {
            adminPanel.style.display = 'block';
            mainContent.style.display = 'none';

            // Update player names in match pairs
            updateAdminMatchPairs();
        }
    });

    // Cancel button
    document.getElementById('admin-cancel').addEventListener('click', function () {
        document.getElementById('admin-panel').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
    });

    // Save changes
    document.getElementById('admin-save').addEventListener('click', function () {
        // Update tournament info
        document.getElementById('tournament-name').textContent = document.getElementById('admin-tournament-name').value;
        currentData.tournament.name = document.getElementById('admin-tournament-name').value;
        document.getElementById('tournament-subtitle').textContent = document.getElementById('admin-tournament-subtitle').value;
        currentData.tournament.subtitle = document.getElementById('admin-tournament-subtitle').value;
        document.getElementById('tournament-location').textContent = document.getElementById('admin-tournament-location').value;
        currentData.tournament.location = document.getElementById('admin-tournament-location').value;

        // Update team names
        document.getElementById('team1-name').textContent = document.getElementById('admin-team1-name').value;
        currentData.team1.name = document.getElementById('admin-team1-name').value;
        document.getElementById('team2-name').textContent = document.getElementById('admin-team2-name').value;
        currentData.team2.name = document.getElementById('admin-team2-name').value;

        // Update flags
        updateFlag('team1-flag', document.getElementById('admin-team1-flag').value);
        currentData.team1.flag = document.getElementById('admin-team1-flag').value;
        updateFlag('team2-flag', document.getElementById('admin-team2-flag').value);
        currentData.team2.flag = document.getElementById('admin-team2-flag').value;

        // Update matches score
        currentData.matche1.score = document.querySelector('.admin-match-score1').value;
        currentData.matche2.score = document.querySelector('.admin-match-score2').value;
        currentData.matche3.score = document.querySelector('.admin-match-score3').value;
        currentData.matche4.score = document.querySelector('.admin-match-score4').value;
        currentData.matche5.score = document.querySelector('.admin-match-score5').value;

        // Update matches point
        currentData.matche1.point = document.querySelector('.admin-match-point1').value;
        currentData.matche2.point = document.querySelector('.admin-match-point2').value;
        currentData.matche3.point = document.querySelector('.admin-match-point3').value;
        currentData.matche4.point = document.querySelector('.admin-match-point4').value;
        currentData.matche5.point = document.querySelector('.admin-match-point5').value;

        // Update matches score
        document.querySelector('.admin-match-score1').value = currentData.matche1.score;
        document.querySelector('.admin-match-score2').value = currentData.matche2.score;
        document.querySelector('.admin-match-score3').value = currentData.matche3.score;
        document.querySelector('.admin-match-score4').value = currentData.matche4.score;
        document.querySelector('.admin-match-score5').value = currentData.matche5.score;

        // Update matches point
        document.querySelector('.admin-match-point1').value = currentData.matche1.point;
        document.querySelector('.admin-match-point2').value = currentData.matche2.point;
        document.querySelector('.admin-match-point3').value = currentData.matche3.point;
        document.querySelector('.admin-match-point4').value = currentData.matche4.point;
        document.querySelector('.admin-match-point5').value = currentData.matche5.point;

        // Get player lists
        const team1Players = document.getElementById('admin-team1-players').value.split('\n')
            .filter(player => player.trim() !== '');
        currentData.team1.players = team1Players;
        currentData.team1.playersvalue = document.getElementById('admin-team1-players').value;
        const team2Players = document.getElementById('admin-team2-players').value.split('\n')
            .filter(player => player.trim() !== '');
        currentData.team2.players = team2Players;
        currentData.team2.playersvalue = document.getElementById('admin-team2-players').value;

        // Update match rows
        updateMatchRows(team1Players, team2Players);

        // Update reserve players
        updateReservePlayers('team1-reserves', document.getElementById('admin-team1-reserves').value);
        currentData.team1.reserves = document.getElementById('admin-team1-reserves').value;
        updateReservePlayers('team2-reserves', document.getElementById('admin-team2-reserves').value);
        currentData.team2.reserves = document.getElementById('admin-team2-reserves').value;

        match_result();

        fetch('/api/data', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(currentData)
        });

        loadData();

        // Hide admin panel
        document.getElementById('admin-panel').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
    });

    function match_result() {
        let team1_score = 0;
        let team2_score = 0;

        function score_plus(nums){
            if ((nums[0] > 2 || nums[1] > 2)) {
                nums[0] > nums[1] ? team1_score++ : team2_score++;
            }
        }

        score_plus((currentData.matche1.score).split(':'));
        score_plus((currentData.matche2.score).split(':'));
        score_plus((currentData.matche3.score).split(':'));
        score_plus((currentData.matche4.score).split(':'));
        score_plus((currentData.matche5.score).split(':'));

        currentData.match_score.team1 = team1_score;
        currentData.match_score.team2 = team2_score;

        document.getElementById('match-score').textContent = `${team1_score}:${team2_score}`;
    }



    // Update flag based on region code
    function updateFlag(elementId, regionCode) {
        const flagElement = document.getElementById(elementId);
        let flagSvg = '';

        switch (regionCode) {
            case 'ady':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_adygea_new.jpg" alt="flag Адыгея">`;
                break;
            case 'alt':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_altay_new.jpg" alt="flag Алтай">`;
                break;
            case 'bash':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_bashkorkostan_res_new.jpg" alt="flag Башкортостан">`;
                break;
            case 'bury':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_buryatiya_new.jpg   " alt="flag Бурятия">`;
                break;
            case 'dnr':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_dnr.jpg" alt="flag ДНР">`;
                break;
            case 'dag':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_dagestan_enl.jpg" alt="flag Дагестан">`;
                break;
            case 'ing':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_ingushetiya_enl.jpg" alt="flag Ингушетия">`;
                break;
            case 'kb':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kabardino_balkarskoy_pes_enl.jpg" alt="flag Кабардино-Балкария">`;
                break;
            case 'klm':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kalmyikiya_enl.jpg  " alt="flag Калмыкия">`;
                break;
            case 'kar':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_karachaevo_cherkesskay_res_new.jpg" alt="flag Карачаево-Черкесия">`;
                break;
            case 'krl':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kareliya_enl.jpg" alt="flag Карелия">`;
                break;
            case 'kom':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_komi_new.jpg" alt="flag Коми">`;
                break;
            case 'cr':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_krym.jpg" alt="flag Крым">`;
                break;
            case 'lnr':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_lnr1.jpg" alt="flag Луганская народная республика">`;
                break;
            case 'mr':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_mari_el_new.jpg" alt="flag Марий Эл">`;
                break;
            case 'mrd':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_mordovia_enl.jpg" alt="flag Мордовия">`;
                break;
            case 'sak':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_saha_yakuyiya_new.jpg" alt="flag Саха (Якутия)">`;
                break;
            case 'alv':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_sev_osetiya_new.jpg" alt="flag Северная Осетия — Алания">`;
                break;
            case 'tat':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tatarstan_new.jpg" alt="flag Татарстан">`;
                break;
            case 'tuv':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tyva_new.jpg" alt="flag Тыва">`;
                break;
            case 'udm':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_udmurtiya_res_new.jpg" alt="flag Удмуртия">`;
                break;
            case 'khk':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_hakasia_new.jpg" alt="flag Хакасия">`;
                break;
            case 'che':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_chechni.jpg" alt="flag Чечня">`;
                break;
            case 'chv':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_chuvashskaya_res_new.jpg" alt="flag Чувашия">`;
                break;

            case 'altk':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_altay_kray_enl.jpg" alt="flag Алтайский край">`;
                break;
            case 'zbk':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_zabaykalskiy_kray_enl.jpg" alt="flag Забайкальский край">`;
                break;
            case 'kam':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kamchatskiy_kray_new.jpg" alt="flag Камчатский край">`;
                break;
            case 'kras':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_krasnodarskiy_kray_new.jpg" alt="flag Краснодарский край">`;
                break;
            case 'krd':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_krasnoyarskiy_kray_new.jpg" alt="flag Красноярский край">`;
                break;
            case 'per':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_permskiy_kray_new.jpg" alt="flag Пермский край">`;
                break;
            case 'pri':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_primorskiy_kray_new.jpg" alt="flag Приморский край">`;
                break;
            case 'sta':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_stavropolskiy_kray_new.jpg" alt="flag Ставропольский край">`;
                break;
            case 'hab':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_habarovskiy_kray_new.jpg" alt="flag Хабаровский край">`;
                break;

            case 'amur':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_amurskay_obl_new.jpg" alt="flag Амурская область">`;
                break;
            case 'arh':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_arhangelskaja_obl_new.jpg" alt="flag Архангельская область">`;
                break;
            case 'ast':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_astrahanskay_obl_new.jpg" alt="flag Астраханская область">`;
                break;
            case 'bel':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_belgorodskay_obl_new_0.jpg" alt="flag Белгородская область">`;
                break;
            case 'bry':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_bryanskay_obl_new.jpg" alt="flag Брянская область">`;
                break;
            case 'vla':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_vladim_obl.jpg" alt="flag Владимирская область">`;
                break;
            case 'vlg':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_volgograd_obl_enl.jpg" alt="flag Волгоградская область">`;
                break;
            case 'vls':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_vologodskay_obl_enl_0.jpg" alt="flag Вологодская область">`;
                break;
            case 'vrn':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_voronezskay_obl_enl.jpg" alt="flag Воронежская область">`;
                break;
            case 'zpo':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_zaporogskaia_obl.jpg" alt="flag Запорожская область">`;
                break;
            case 'iva':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_ivanovskay_obl_enl.jpg" alt="flag Ивановская область">`;
                break;
            case 'irk':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_irkutskay_obl_new.jpg" alt="flag Иркутская область">`;
                break;
            case 'klg':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kaliningradskoy_obl_new.jpg" alt="flag Калининградская область">`;
                break;
            case 'klz':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kaluzskay_obl_enl.jpg" alt="flag Калужская область">`;
                break;
            case 'kem':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kemerovskay_obl_new.jpg" alt="flag Кемеровская область">`;
                break;
            case 'kir':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kirovskay_obl_new.jpg" alt="flag Кировская область">`;
                break;
            case 'kos':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kostromskay_obl_enl.jpg" alt="flag Костромская область">`;
                break;
            case 'kur':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kurganskay_obl_enl.jpg" alt="flag Курганская область">`;
                break;
            case 'kurs':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_kurskay_obl_new.jpg" alt="flag Курская область">`;
                break;
            case 'len':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_leningradskay_obl_new.jpg" alt="flag Ленинградская область">`;
                break;
            case 'lip':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_lipetskay_obl_enl.jpg" alt="flag Липецкая область">`;
                break;
            case 'mag':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_magadanskay_obl_enl.jpg" alt="flag Магаданская область">`;
                break;
            case 'mos':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_moskovskay_obl_new.jpg" alt="flag Московская область">`;
                break;
            case 'mur':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_murmanskay_obl_new.jpg" alt="flag Мурманская область">`;
                break;
            case 'nin':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_nizegorodskay_obl_new.jpg" alt="flag Нижегородская область">`;
                break;
            case 'nov':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_novgorodskay_obl_new.jpg" alt="flag Новгородская область">`;
                break;
            case 'nvs':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_novosibirskay_obl_new.jpg" alt="flag Новосибирская область">`;
                break;
            case 'oms':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_omskay_obl_new.jpg" alt="flag Омская область">`;
                break;
            case 'oren':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_orenburskay_obl_enl.jpg" alt="flag Оренбургская область">`;
                break;
            case 'orl':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_orlovskay_obl_enl.jpg" alt="flag Орловская область">`;
                break;
            case 'pnz':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_penza_region_new.jpg" alt="flag Пензенская область">`;
                break;
            case 'psk':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_pskovskay_obl_new.jpg" alt="flag Псковская область">`;
                break;
            case 'ros':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_rostovskaya_obl_enl.jpg" alt="flag Ростовская область">`;
                break;
            case 'rya':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_ryazanskaya_obl_enl.jpg" alt="flag Рязанская область">`;
                break;
            case 'sam':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_samarskaya_obl_new.jpg" alt="flag Самарская область">`;
                break;
            case 'sar':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_saratovskaya_obl_enl_0.jpg" alt="flag Саратовская область">`;
                break;
            case 'sah':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_sahalinskaya_obl_enl.jpg" alt="flag Сахалинская область">`;
                break;
            case 'sve':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_sverdlovskaya_obl_new.jpg" alt="flag Свердловская область">`;
                break;
            case 'smo':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_smolenskaya_obl_enl.jpg" alt="flag Смоленская область">`;
                break;
            case 'tam':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tambovskaya_obl_new.jpg" alt="flag Тамбовская область">`;
                break;
            case 'tom':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tomskaya_obl_enl.jpg" alt="flag Томская область">`;
                break;
            case 'tul':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tulskaya_obl_enl.jpg" alt="flag Тульская область">`;
                break;
            case 'tyu':
                flagSvg = `<img src=https://www.megaflag.ru/sites/default/files/images/shop/products/flag_tumenskaya_obl_enl.jpg"" alt="flag Тюменская область">`;
                break;
            case 'uly':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_ulyanovskaya_obl_new.jpg" alt="flag Ульяновская область">`;
                break;
            case 'xobl':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_hersonskaia_obl.jpg" alt="flag Херсонская область">`;
                break;
            case 'cheb':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_chelyabinskaya_obl_enl.jpg" alt="flag Челябинская область">`;
                break;
            case 'yar':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_yaroslavskaya_obl_enl.jpg" alt="flag Ярославская область">`;
                break;

            case 'msk':
                flagSvg = `<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Flag_of_Moscow%2C_Russia.svg/1280px-Flag_of_Moscow%2C_Russia.svg.png" alt="flag Москва">`;
                break;
            case 'spb':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_st_peterburg.jpg" alt="flag Санкт-Петербург">`;
                break;
            case 'sev':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_sevastopol.jpg" alt="flag Севастополь">`;
                break;

            case 'evao':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_evrejskaja_ao.jpg" alt="flag Еврейская АО">`;
                break;
            case 'nao':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_nenetskiy_avt_okrug_enl.jpg" alt="flag Ненецкий АО">`;
                break;
            case 'hmao':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_hanty_mansiyskiy_avt_okr1.jpg" alt="flag ХМАО">`;
                break;
            case 'chao':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_chucotskiy_avt_okr_new.jpg" alt="flag Чукотский АО">`;
                break;
            case 'yamalo':
                flagSvg = `<img src="https://www.megaflag.ru/sites/default/files/images/shop/products/flag_jamalo_neneckogo_avt_okr.jpg" alt="flag Ямало-Ненецкий АО">`;
        }
        flagElement.innerHTML = flagSvg;
    }

    // Update reserve players list
    function updateReservePlayers(elementId, playersText) {
        const playersList = document.getElementById(elementId);
        playersList.innerHTML = '';

        const players = playersText.split('\n');
        players.forEach(player => {
            if (player.trim()) {
                const li = document.createElement('li');
                li.className = 'reserve-player ' + (elementId === 'team1-reserves' ? 'text-blue-700' : 'text-red-700') + ' text-md font-bold';
                li.textContent = player.trim();
                playersList.appendChild(li);
            }
        });
    }

    // Update match rows with player names and results
    function updateMatchRows(team1Players, team2Players) {
        const matchRowsContainer = document.getElementById('match-rows');
        matchRowsContainer.innerHTML = '';

        const scoreInputs = document.querySelectorAll('.admin-match-score');

        const pointsInputs = document.querySelectorAll('.admin-match-points');

        const maxMatches = Math.min(team1Players.length, team2Players.length, scoreInputs.length);

        const matchPairs = document.querySelectorAll('.dark-match-pair');


        for (let i = 0; i < maxMatches; i++) {
            const rowDiv = document.createElement('div');
            rowDiv.className = 'flex items-center mb-2 animate-fadeIn';
            rowDiv.style.animationDelay = `${i * 0.1}s`;

            // Team 1 player

            const team1Div = document.createElement('div');
            team1Div.className = 'w-5/12 text-left';
            const player1Div = document.createElement('div');
            player1Div.className = 'player-name  text-lg font-bold vibrant-green';
            const namePlayer1 = team1Players[i].split(" ");
            player1Div.textContent = namePlayer1[0].toUpperCase() + ' ' + namePlayer1[1];
            team1Div.appendChild(player1Div);
            matchPairs[i].querySelector('.player1-name').textContent = namePlayer1[0].toUpperCase() + ' ' + namePlayer1[1];



            // Match result
            const resultDiv = document.createElement('div');
            resultDiv.className = 'w-2/12 flex flex-col items-center justify-center';

            const scoreDiv = document.createElement('div');
            scoreDiv.className = 'match-score ' +
                (scoreInputs[i].value.startsWith('3') ? 'vibrant-blue' : 'vibrant-pink') + ' text-lg ';
            scoreDiv.textContent = scoreInputs[i].value;

            const pointsDiv = document.createElement('div');
            pointsDiv.className = 'match-points text-xs';
            pointsDiv.textContent = pointsInputs[i].value;

            resultDiv.appendChild(scoreDiv);
            resultDiv.appendChild(pointsDiv);

            // Team 2 player
            const team2Div = document.createElement('div');
            team2Div.className = 'w-5/12 text-right';
            const player2Div = document.createElement('div');
            player2Div.className = 'player-name text-lg font-bold vibrant-orange';
            const namePlayer2 = team2Players[i].split(" ");
            player2Div.textContent = namePlayer2[0].toUpperCase() + ' ' + namePlayer2[1];
            team2Div.appendChild(player2Div);

            matchPairs[i].querySelector('.player2-name').textContent = namePlayer2[0].toUpperCase() + ' ' + namePlayer2[1];

            // Add all to row
            rowDiv.appendChild(team1Div);
            rowDiv.appendChild(resultDiv);
            rowDiv.appendChild(team2Div);

            matchRowsContainer.appendChild(rowDiv);
        }
    }

    // Update player names in admin match pairs
    function updateAdminMatchPairs() {
        const team1Players = (currentData.team1.players).split('\n')
            .filter(player => player.trim() !== '');
        const team2Players = (currentData.team2.players).split('\n')
            .filter(player => player.trim() !== '');

        const matchPairs = document.querySelectorAll('.dark-match-pair');
        const maxMatches = Math.min(team1Players.length, team2Players.length, matchPairs.length);

        for (let i = 0; i < maxMatches; i++) {
            const player1Name = matchPairs[i].querySelector('.player1-name');
            const player2Name = matchPairs[i].querySelector('.player2-name');

            player1Name.textContent = team1Players[i];
            player2Name.textContent = team2Players[i];
        }
    }

    // Listen for changes in player lists to update match pairs
    document.getElementById('admin-team1-players').addEventListener('input', updateAdminMatchPairs);
    document.getElementById('admin-team2-players').addEventListener('input', updateAdminMatchPairs);
    loadData();
</script>

</body>
</html>